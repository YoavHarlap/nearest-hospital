<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <title>Vocabulary Trainer</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      direction: ltr;
    }
    .app {
      background: white;
      padding: 30px;
      width: 420px;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
      text-align: center;
    }
    .word {
      font-size: 36px;
      margin-bottom: 15px;
    }
    .meaning {
      font-size: 22px;
      color: #444;
      min-height: 32px;
      margin-bottom: 20px;
    }
    button {
      padding: 10px 14px;
      margin: 5px;
      font-size: 14px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
    }
    .primary { background: #4CAF50; color: white; }
    .secondary { background: #2196F3; color: white; }
    .danger { background: #f44336; color: white; }
    .muted { background: #ddd; }
    .top {
      font-size: 13px;
      margin-bottom: 10px;
      color: #666;
    }
  </style>
</head>
<body>

<div class="app">
  <div class="top" id="status"></div>
  <div class="word" id="word"></div>
  <div class="meaning" id="meaning"></div>

  <button class="secondary" onclick="showMeaning()">爪 驻专砖</button><br>

  <button class="primary" onclick="knowWord()">注转</button>
  <button class="danger" onclick="dontKnowWord()"> 注转</button><br>

  <button class="muted" onclick="toggleMode()">爪: <span id="modeLabel"></span></button>
  <button class="muted" onclick="resetUnknown()">驻住 -注转</button>
</div>

<script>
/* =========================
   专  ()
   ========================= */

const WORDS = [
  // 猬猬猬猬猬猬猬猬猬猬猬猬猬猬猬猬
  //  爪转  2,229  砖拽
  // :
  // { en: "word", he: "驻专砖" }

  { en: "pledge", he: "转; " },
  { en: "plot", he: "注; " },
  { en: "poem", he: "砖专" },
  { en: "poet", he: "砖专专" },
  { en: "poverty", he: "注" },
  { en: "power", he: "" },
  { en: "practice", he: "转专; 转" },
  { en: "precise", he: "拽" },
  { en: "progress", he: "转拽转" },
  { en: "random", he: "拽专" },
  { en: "respect", he: "" },
  { en: "solution", he: "驻转专" },
  { en: "stable", he: "爪" },
  { en: "strategy", he: "住专" },
  { en: "threat", he: "" },
  { en: "trust", he: "" },
  { en: "useful", he: "砖砖" },
  { en: "vulnerable", he: "驻注" },
  { en: "wealth", he: "注砖专" },
  { en: "zone", he: "专" }

  // 锔 驻注:  爪转  砖专 
];

/* =========================
   拽
   ========================= */

const STORAGE_KEY = "unknownWords";
let mode = "all"; // all | unknown
let currentWord = null;

function getUnknownSet() {
  return new Set(JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]"));
}

function saveUnknownSet(set) {
  localStorage.setItem(STORAGE_KEY, JSON.stringify([...set]));
}

function getActiveList() {
  const unknown = getUnknownSet();
  if (mode === "unknown") {
    return WORDS.filter(w => unknown.has(w.en));
  }
  return WORDS;
}

function randomWord() {
  const list = getActiveList();
  if (list.length === 0) {
    alert("  爪  ");
    return null;
  }
  return list[Math.floor(Math.random() * list.length)];
}

function loadWord() {
  currentWord = randomWord();
  if (!currentWord) return;
  document.getElementById("word").textContent = currentWord.en;
  document.getElementById("meaning").textContent = "";
  updateStatus();
}

function showMeaning() {
  if (currentWord) {
    document.getElementById("meaning").textContent = currentWord.he;
  }
}

function knowWord() {
  loadWord();
}

function dontKnowWord() {
  if (!currentWord) return;
  const set = getUnknownSet();
  set.add(currentWord.en);
  saveUnknownSet(set);
  showMeaning();
}

function toggleMode() {
  mode = mode === "all" ? "unknown" : "all";
  document.getElementById("modeLabel").textContent =
    mode === "all" ? " " : "专拽  注转";
  loadWord();
}

function resetUnknown() {
  if (confirm("拽 转  专砖转 ' 注转'?")) {
    localStorage.removeItem(STORAGE_KEY);
    loadWord();
  }
}

function updateStatus() {
  const unknownCount = getUnknownSet().size;
  document.getElementById("status").textContent =
    `爪: ${mode === "all" ? " " : "专拽  注转"} |  注转: ${unknownCount}`;
}

document.getElementById("modeLabel").textContent = " ";
loadWord();
</script>

</body>
</html>
